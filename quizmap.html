<!DOCTYPE html>
<html>
<head>
  <title> Quiz Geo Map </title>
  <meta charset="utf-8">
  <style>
  header {font-family:Georgia,"Arial",serif;
    font-size: 20px;
    display:block;
  }
  video {display: none; position:absolute;
    top: 60px; right: 20px;
  }
  audio {display:none; position:absolute;
    top:60px; right:20px;
  }
  canvas { position: relative;top:60px
  right: 20px; }
  #answer {position: relative;
  font-family: Georgia,"Arial",Times,serif;
  font-size: 16px;}
  </style>

  <script async defer src="https://maps.googleapis.com/maps/api/js?key=API_KEY&callback=initMap"
    type="text/javasript"></script>

  <script type="text/javascript"
    src="mediacontentquiz.js">
  </script>

  <script type="text/javascript"
    charset="utf-8">

  var listener;
  var map;
  var myOptions;
  var ctx;
  var content = [];
  var answer;
  var audioel;
  var v;
  var blatlng;

  vart videotext1 = "<video id=\"XXXX\"
  preload=\"auto\" controls=\"controls\"
  width=\"400\"><source src=\"XXXX.mp4\"
  type=\'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"\'>";

  var videotext2="<source src="XXXX.theora.ogv\"
  type=\'video/ogg; codecs=\"theora,vorbis\"\'> \
  <source src=\"XXXX.webmvp8.webm\" type=\'video/webm; codec=\"vp8,vorbis\"\'>";

  var videotext3 = "browser does not accept the video tag.</video>";

  var audiotext1= "<audio id=\"XXXX\" controls=\"controls\"
  preload=\"preload\"><source src=\"XXXX.ogg\" type=\"audio/ogg\" />";

  var audiotext2 = "<source src=\"XXXX.mp3\" type=\"audio/mpeg\" /> \
  <source src=\"XXXX.wav\" type=\"audio/wav\" /></audio>";

  var nextquestion = -1;

  function init()
  {
    ctx = document.getElementById("canvas").getContext('2d');
    answer = document.getElementById("answer");
    header = document.getElementById("header");
    loadcontent();

    asknewquestion();
  }

  function asknewquestion()
  {
    nextquestion++;
    if(nextquestion<questions.length) {
      header.innerHTML = questions[nextquestion];
    }
    else {
      header.innerHTML = "no more questions";
    }
  }

  function loadcontent() {
    var divelement;
    makemap(base[0],base[1]);
    var videomarkup;
    var videoreference;
    var audiomarkup;
    var audioreference;
    var imageobj;
    var name;
    var savedimagefilename;
    for (var i = 0;i<precontent.length;i++) {
      content.push(precontent[i]);
      name = precontent[i][4];
      switch(precontent[i][3]) {
        case "video":
          divelement = document.createElement("div");
          divelement.style = "float:right;width:30%;";
          videomarkup = videotext1+videotext2+videotext3;
          videomarkup = videomarkup.replace(/XXXX/g,name);
          divelement.innerHTML = videomarkup;
          document.body.appendChild(divelement);
          videoreference = document.getElementById(name);
          content[i][4] = videoreference;
        break;
        case "pictureaudio":
          divelement = document.createElement("div");
          
      }
    }
  }


</head>
</body>

</body>
</html>
